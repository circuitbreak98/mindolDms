<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\default_typedef.xml"/>
  <Form id="sample0050" classname="ProgramReg" inheritanceid="" position="absolute 0 0 1038 528" titletext="팝업샘플(메인)" style="font:arial,11;" onload="Form_onload">
    <Layouts>
      <Layout>
        <Div id="divLevel02" anchor="left top right" taborder="1" class="bg_search" position="absolute 0 0 1017 330">
          <Layouts>
            <Layout>
              <Edit id="edt_brnCd" taborder="15" onkeydown="div_Search_edt_brnCd_onkeydown" position="absolute 78 9 148 29" anchor="default" class="Code"/>
              <Static id="stc_00" text="브랜드" class="sta_WFSA_Label" position="absolute 14 9 90 29" anchor="default"/>
              <Static id="stc_04" text="가맹점" class="sta_WFSA_Label" position="absolute 14 33 90 53" anchor="default"/>
              <Edit id="edt_mchtNo" taborder="18" onkeydown="div_Search_edt_mchtNo_onkeydown" position="absolute 142 33 212 53" anchor="default" class="Code" oneditclick="divLevel02_edt_mchtNo_oneditclick"/>
              <Static id="Static12" text="w&#13;&#10;&#13;15" class="tip_guide" visible="false" position2="absolute l:0 w:15 t:16 h:277" positiontype="position2"/>
              <Static id="Static08" text="w&#13;&#10;&#13;10" class="tip_guide" visible="false" position2="absolute l:68 w:10 t:10 h:318" positiontype="position2"/>
              <Static id="Static03" text="w&#13;&#10;30" class="tip_guide" visible="false" position2="absolute l:398 w:30 t:6 h:111" positiontype="position2"/>
              <Button id="btn_00" taborder="21" onclick="divLevel02_btn_00_onclick" class="btn_WFSA_search" position="absolute 280 9 300 29" tooltiptype="hover" anchor="default"/>
              <Button id="btn_01" taborder="22" onclick="divLevel02_btn_01_onclick" class="btn_WFSA_search" position="absolute 344 33 364 53" tooltiptype="hover" anchor="default"/>
              <Static id="Static04" text="w&#13;&#10;&#13;10" class="tip_guide" visible="false" position2="absolute l:484 w:10 t:0 h:142" positiontype="position2"/>
              <Static id="Static05" text="h10" class="tip_guide" visible="false" position2="absolute l:192 w:42 t:0 h:10" positiontype="position2"/>
              <Button id="btn_reset" taborder="24" onclick="div_search_btn_reset_onclick" class="btn_WFSA_reset" position="absolute 301 9 321 29" tooltiptext="초기화"/>
              <Button id="btn_reset00" taborder="25" onclick="divLevel02_btn_reset00_onclick" class="btn_WFSA_reset" position="absolute 365 33 385 53" tooltiptext="초기화"/>
              <Edit id="edt_brnNm" taborder="26" imemode="hangul" onkeydown="div_Search_edt_brnCd_onkeydown" position="absolute 149 9 279 29" anchor="default"/>
              <Edit id="edt_mchtNm" taborder="27" imemode="hangul" onkeydown="div_Search_edt_mchtNo_onkeydown" position="absolute 213 33 343 53" anchor="default">
                <Layouts>
                  <Layout width="85" height="20"/>
                </Layouts>
              </Edit>
              <Static id="stc_01" text="회원" class="sta_WFSA_Label" position="absolute 14 161 90 181" anchor="default"/>
              <Combo id="cbo_msgType" taborder="28" autoselect="true" innerdataset="@ds_MBC031" codecolumn="CM_CD_ID" datacolumn="CM_CD_NM" onkeydown="div_Search_mbr_onkeydown" position="absolute 78 161 175 181" anchor="default"/>
              <Edit id="edt_msgVal" taborder="29" inputtype="digit,alpha" maxlength="20" onkeydown="div_Search_mbredit_onkeydown" position="absolute 176 161 308 181" validate="title:회원검색코드,maxlength:20" anchor="default"/>
              <Button id="btn_mbrSearch" taborder="30" onclick="divLevel02_btn_mbrSearch_onclick" class="btn_WFSA_search" position="absolute 309 161 329 181" anchor="default"/>
              <Button id="btn_reset01" taborder="31" onclick="divLevel02_btn_reset01_onclick" class="btn_WFSA_reset" position="absolute 331 161 351 181" tooltiptext="초기화" anchor="default"/>
              <Static id="stc_inqReqIdfNo00" text="회원번호" visible="true" position="absolute 14 185 144 205" anchor="default" class="sta_WFSA_Label"/>
              <Edit id="edt_mbrNo" taborder="33" readonly="true" maxlength="100" onkeydown="div_Search_edt_id_onkeydown" visible="true" position="absolute 78 185 188 205" anchor="default"/>
              <Static id="stc_inqReqIdfNo01" text="카드번호" visible="true" position="absolute 14 209 144 229" anchor="default" class="sta_WFSA_Label"/>
              <Edit id="edt_cardNo" taborder="34" readonly="true" maxlength="100" onkeydown="div_Search_edt_id_onkeydown" visible="true" position="absolute 78 209 188 229" anchor="default"/>
              <Static id="stc_02" text="사용자" class="sta_WFSA_Label" position="absolute 429 10 518 30" anchor="default"/>
              <Edit id="edt_userNo" taborder="35" inputtype="digit,alpha" maxlength="12" onkeydown="div_Search_user_onkeydown" position="absolute 494 10 584 30" validate="title:사용자번호,maxlength:12" anchor="default" class="Code"/>
              <Edit id="edt_userNm" taborder="36" imemode="hangul" maxlength="50" onkeydown="div_Search_user_onkeydown" position="absolute 585 10 695 30" validate="title:사용자명,maxlengthB:50" anchor="default" ontextchange="divLevel02_edt_usernm_ontextchange"/>
              <Button id="btn_02" taborder="37" onclick="btn_User_onclick" class="btn_WFSA_search" position="absolute 696 10 716 30" tooltiptype="hover" anchor="default"/>
              <Button id="btn_reset02" taborder="38" onclick="divLevel02_btn_reset02_onclick" class="btn_WFSA_reset" position="absolute 717 10 737 30" tooltiptext="초기화" anchor="default"/>
              <Static id="Static00" text="h10" class="tip_guide" visible="false" position2="absolute l:556 w:42 t:0 h:10" positiontype="position2"/>
              <Static id="stc_frmId" text="화면" class="sta_WFSA_Label" position="absolute 14 56 79 76" anchor="default"/>
              <Edit id="edt_frmId" taborder="39" inputmode="upper" inputtype="digit,alpha" maxlength="15" onkeydown="div_search_edt_frmId_onkeydown" position="absolute 78 56 148 76" validate="title:화면ID,maxlengthB:15" anchor="default" class="Code"/>
              <Edit id="edt_frmNm" taborder="40" imemode="hangul" maxlength="100" onkeydown="div_search_edt_frmId_onkeydown" position="absolute 149 56 279 76" validate="title:화면명,maxlengthB:150" anchor="default" ontextchange="divLevel02_edt_frmNm_ontextchange"/>
              <Button id="btn_frmSearch" taborder="41" onclick="div_search_btn_frmSearch_onclick" class="btn_WFSA_search" position="absolute 280 56 300 76" anchor="default"/>
              <Button id="btn_reset03" taborder="42" onclick="divLevel02_btn_reset03_onclick" class="btn_WFSA_reset" position="absolute 301 56 321 76" tooltiptext="초기화" anchor="default"/>
              <Static id="Static01" text="권한역할" class="sta_WFSA_Label" position="absolute 14 79 104 99" anchor="default"/>
              <Edit id="edt_rollId" taborder="43" inputtype="digit,alpha" maxlength="5" onkeydown="div_Search_authrol_onkeydown" position="absolute 78 79 148 99" validate="title:권한역할ID,maxlengthB:5" anchor="default" class="Code"/>
              <Edit id="edt_rollNm" taborder="44" imemode="hangul" maxlength="50" onkeydown="div_Search_authrol_onkeydown" position="absolute 149 79 279 99" validate="title:권한역할명,maxlengthB:50" anchor="default" ontextchange="divLevel02_edt_rollNm_ontextchange"/>
              <Button id="btn_03" taborder="45" onclick="fn_Authrol_Popup_search" class="btn_WFSA_search" position="absolute 280 79 300 99" tooltiptype="hover" anchor="default"/>
              <Button id="btn_reset04" taborder="46" onclick="divLevel02_btn_reset04_onclick" class="btn_WFSA_reset" position="absolute 301 79 321 99" tooltiptext="초기화" anchor="default"/>
              <Edit id="edt_supCmGrpCd" taborder="47" inputmode="upper" inputtype="digit,alpha" maxlength="6" onkeydown="div_search_edt_supCmGrpCd_onkeydown" position="absolute 78 102 148 122" validate="title:상위 공통그룹코드,maxlengthB:6" anchor="default" class="Code"/>
              <Edit id="edt_supCmCd" taborder="48" inputtype="digit,alpha" maxlength="15" onkeydown="div_search_edt_supCmGrpCd_onkeydown" position="absolute 149 102 279 122" validate="title:상위 공통코드,maxlengthB:15" anchor="default" ontextchange="divLevel02_edt_supCmCd_ontextchange"/>
              <Button id="btn_cmCdSearch" taborder="49" onclick="div_search_btn_cmCdSearch_onclick" class="btn_WFSA_search" position="absolute 280 102 300 122" anchor="default"/>
              <Button id="btn_reset05" taborder="50" onclick="div_search_btn_reset_onclick" class="btn_WFSA_reset" position="absolute 301 102 321 122" tooltiptext="초기화"/>
              <Static id="Static02" text="공통코드" class="sta_WFSA_Label" position="absolute 14 102 104 122" anchor="default"/>
              <Static id="st_title02" text="W:90" class="sta_des_blue" position="absolute 499 30 566 47"/>
              <Static id="st_title00" text="W:110" class="sta_des_blue" position="absolute 587 30 654 47"/>
              <Edit id="edt_sapCd" taborder="51" inputmode="upper" inputtype="numberandenglish" maxlength="7" onkeydown="div_search_edt_sap_onkeydown" class="Code" position="absolute 78 33 141 53"/>
            </Layout>
          </Layouts>
          <InitValue>
            <Combo id="cbo_msgType" index="0"/>
          </InitValue>
        </Div>
        <Static id="Static14" text="h10" class="tip_guide" visible="false" position2="absolute l:69 w:42 t:262 h:10" positiontype="position2"/>
        <Static id="st_title02" text="W:70" class="sta_des_blue" position="absolute 91 126 158 143"/>
        <Static id="st_title00" text="W:130" class="sta_des_blue" position="absolute 155 126 222 143"/>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_MBC031" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="CM_CD_ID" type="STRING" size="256"/>
          <Column id="CM_CD_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_SCC010" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cmGrpCdId" type="STRING" size="256" prop="NONE"/>
          <Column id="cmGrpCdNm" type="STRING" size="256"/>
          <Column id="CM_CD_ID" type="STRING" size="256"/>
          <Column id="chgDtm" type="STRING" size="256"/>
          <Column id="CM_CD_NM" type="STRING" size="256"/>
          <Column id="cmCdDesc" type="STRING" size="256"/>
          <Column id="cmCdSortOrd" type="STRING" size="256"/>
          <Column id="useYn" type="STRING" size="256"/>
          <Column id="supCmGrpCdId" type="STRING" size="256"/>
          <Column id="supCmCdId" type="STRING" size="256"/>
          <Column id="mgmtItemCd1" type="STRING" size="256"/>
          <Column id="mgmtItemCd2" type="STRING" size="256"/>
          <Column id="mgmtItemCd3" type="STRING" size="256"/>
          <Column id="mgmtItemCd4" type="STRING" size="256"/>
          <Column id="mgmtItemCd5" type="STRING" size="256"/>
          <Column id="mgmtItemCd6" type="STRING" size="256"/>
          <Column id="mgmtItemCd7" type="STRING" size="256"/>
          <Column id="mgmtItemCd8" type="STRING" size="256"/>
          <Column id="mgmtItemCd9" type="STRING" size="256"/>
          <Column id="mgmtItemCd10" type="STRING" size="256"/>
          <Column id="fsRegUserId" type="STRING" size="256"/>
          <Column id="fsRegDtm" type="STRING" size="256"/>
          <Column id="lsChgUserId" type="STRING" size="256"/>
          <Column id="lsChgDtm" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="item70" compid="divLevel02.edt_mbrNo" propid="value" datasetid="ds_ncFieldMap" columnid="mbrNo"/>
      <BindItem id="item48" compid="divLevel02.edt_cardNo" propid="value" datasetid="ds_ncFieldMap" columnid="cardNo"/>
      <BindItem id="item3" compid="divLevel02.edt_userNo" propid="value" datasetid="ds_ncFieldMap" columnid="userNo"/>
      <BindItem id="item5" compid="divLevel02.edt_userNm" propid="value" datasetid="ds_ncFieldMap" columnid="userNm"/>
      <BindItem id="item0" compid="divLevel02.edt_frmId" propid="value" datasetid="ds_ncFieldMap" columnid="frmId"/>
      <BindItem id="item1" compid="divLevel02.edt_frmNm" propid="value" datasetid="ds_ncFieldMap" columnid="frmNm"/>
      <BindItem id="item2" compid="divLevel02.edt_rollId" propid="value" datasetid="ds_ncFieldMap" columnid="autrRolId"/>
      <BindItem id="item4" compid="divLevel02.edt_rollNm" propid="value" datasetid="ds_ncFieldMap" columnid="autrRolNm"/>
      <BindItem id="item6" compid="divLevel02.edt_supCmGrpCd" propid="value" datasetid="ds_cmcd_pop" columnid="supCmGrpCdId"/>
      <BindItem id="item7" compid="divLevel02.edt_supCmCd" propid="value" datasetid="ds_cmcd_pop" columnid="supCmCdId"/>
      <BindItem id="item8" compid="divLevel02.edt_sapCd" propid="value" datasetid="ds_ncFieldMap" columnid="searchSap"/>
    </Bind>
    <Script type="xscript4.0"><![CDATA[/*
 * 01. 업무구분 : 공통
 * 02. 화면 : sample0050.xfdl
 * 03. 화면 설명 : 팝업샘플(메인)
 * 04. 관련 화면/서비스 : 
 * 05. 작성자 : 심상준
 * 06. 작성일 : 2015.06.01
 * 07. 수정이력 :
 ************************************************************************************************
 *     수정일        이  름    사유
 ************************************************************************************************
 *     2015.06.01    심상준    최초 작성
 ************************************************************************************************
 */
 
/*===============================================================================================
 * [ PART 1 ] Form에서 Include 할 라이브러리(xjs)파일 정의
================================================================================================*/
include "LIB::common.xjs"; //공통함수 호출

/*===============================================================================================
 * [ PART 2 ] Form에서 사용될 전역변수를 선언
================================================================================================*/
 
/*===============================================================================================
 * [ PART 3 ] Form Event 처리
================================================================================================*/
/*----------------------------------------------------------------------------------------------
 * 설명   : Form Load Event
-----------------------------------------------------------------------------------------------*/
function Form_onload(obj:Form, e:LoadEventInfo)
{
	//공통 Form 초기화
	gfn_setInitForm(obj, e, "sample0050")
	//Form 초기 개발자 셋팅
 	//공통코드 초기화
 	fn_setInitCode(obj, e);
 	//그리드 초기화
 	fn_setInitGrid(obj, e);
 	//기본값 초기화
 	fn_setInitForm(obj, e);
}
/*----------------------------------------------------------------------------------------------
 * 설명   : Form 종료전 Check 함수(공통)
-----------------------------------------------------------------------------------------------*/
function Form_checkBeforeClose()
{
	//변경된 Dataset검증
	if ( gfn_formBeforeOnClose(this, "") ) {
		return true;
	} else {
		return false;
	}
}
/*----------------------------------------------------------------------------------------------
 * 설명   : 공통코드 초기화
-----------------------------------------------------------------------------------------------*/
function fn_setInitCode(obj:Form, e:LoadEventInfo)
{
	var strCode =  "MBC031=ds_MBC031=A";
	    strCode += ",SCC010=ds_SCC010=A";	
	
	gfn_getCodeDs( this
				  , strCode
				  ,"fn_afterCodeCallBack");				//결과 받을 function					  
}
/*----------------------------------------------------------------------------------------------
 * 설명   : 공통코드 호출 후 처리
-----------------------------------------------------------------------------------------------*/
function fn_afterCodeCallBack()
{		
 	divLevel02.cbo_msgType.index = 1;	
}

function fn_setInitGrid(obj:Form, e:LoadEventInfo)
{

}

function fn_setInitForm(obj:Form, e:LoadEventInfo)
{
	//page = 1;   
	//page_size = 30;
		
}

/*----------------------------------------------------------------------------------------------
 * 설명   : 브랜드 검색 팝업
-----------------------------------------------------------------------------------------------*/
function div_Search_edt_brnCd_onkeydown(obj:Edit, e:KeyEventInfo)
{
	if (e.keycode == KEYCODE_ENTER) {
		divLevel02_btn_00_onclick();
	}
}

function divLevel02_btn_00_onclick(obj:Button,  e:ClickEventInfo)
{
	//alert("브랜드 검색 팝업");
	var sParam01 = divLevel02.edt_brnCd.value;
	var sParam02 = divLevel02.edt_brnNm.value;
	var sParam04 = "";
	if ( e == null ) {
		sParam04 = "key";
	} else {
		sParam04 = "button";
	}
	var arrArgs = {argAutoSelect:true, argCallProgram:"FRM0010M", argParam01:sParam01, argParam02:sParam02, argParam04:sParam04};
	var sRtnVal = gfn_dialog("FRM0054P", arrArgs);

	//팝업에서 입력받은 값 리턴
	if ( gfn_isNull(sRtnVal) || sRtnVal == "cancel" ) {
		//취소시 값 제거
		divLevel02.edt_brnCd.value = "";
		divLevel02.edt_brnNm.value = "";
	} else {	//Object이용시
		divLevel02.edt_brnCd.value 	= sRtnVal["supBrndCd"];
		divLevel02.edt_brnNm.value  = sRtnVal["supBrndNm"];
	//	btn_search_onclick();
	}
}

/*----------------------------------------------------------------------------------------------
 * 설명   : 가맹점 검색 팝업
-----------------------------------------------------------------------------------------------*/
function div_Search_edt_mchtNo_onkeydown(obj:Edit, e:KeyEventInfo)
{
	if (e.keycode == KEYCODE_ENTER) {
		divLevel02_btn_01_onclick();
	}
}

function divLevel02_btn_01_onclick(obj:Button,  e:ClickEventInfo)
{
	//alert("가맹점 검색 팝업");
	var sParam01 = divLevel02.edt_mchtNo.value;
	var sParam02 = divLevel02.edt_mchtNm.value;
	var sParam03 = divLevel02.edt_brnCd.value;
	var sParam04;
	var sParam05 = divLevel02.edt_sapCd.value; // 2015.02.27 sap코드 추가 
	if ( e == null ) {
		sParam04 = "key";
	} else {
		sParam04 = "button";
	}
	var arrArgs = {argAutoSelect:true, argCallProgram:"FRM0010M", argParam01:sParam01, argParam02:sParam02, argParam03:sParam03, argParam04:sParam04, argParam05:sParam05 };
	var sRtnVal = gfn_dialog("FRM0061P", arrArgs);

	//팝업에서 입력받은 값 리턴
	if ( gfn_isNull(sRtnVal) || sRtnVal == "cancel" ) {
		//취소시 값 제거
		divLevel02.edt_mchtNo.value = "";
		divLevel02.edt_mchtNm.value = "";
	} else {	//Object이용시
		divLevel02.edt_mchtNo.value  = sRtnVal["supMchtNo"];
		divLevel02.edt_mchtNm.value = sRtnVal["supMchtNm"];
		divLevel02.edt_brnCd.value   = sRtnVal["supBrndCd"];
		divLevel02.edt_brnNm.value  = sRtnVal["supBrndNm"];      
		divLevel02.edt_sapCd.value   = sRtnVal["supSapCd"]; // 2015.02.27 sap코드 추가 
	//	btn_search_onclick();
	}
}

/*----------------------------------------------------------------------------------------------
 * 설명   : 회원번호 검색팝업
-----------------------------------------------------------------------------------------------*/
function div_Search_mbr_onkeydown(obj:Combo, e:KeyEventInfo)
{
	if (e.keycode == KEYCODE_ENTER) {
		divLevel02_btn_mbrSearch_onclick();
	}
}
function div_Search_mbredit_onkeydown(obj:Edit, e:KeyEventInfo)
{
	if (e.keycode == KEYCODE_ENTER) {
		divLevel02_btn_mbrSearch_onclick();
	}
}

function divLevel02_btn_mbrSearch_onclick(obj:Button,  e:ClickEventInfo)
{
	var sParam01 = divLevel02.edt_msgVal.value;
	var sParam02 = divLevel02.cbo_msgType.value;
	var sParam03 = "";
	
	if( e == null ) {
		sParam03 = "key";
	} else {
		sParam03 = "button";
	}
	
	var arrArgs = {argAutoSelect:true, argCallProgram:"FRM0038M", argParam01:sParam01, argParam02:sParam02, sParam03:sParam03};
	var sRtnVal = gfn_dialog("FRM0039P", arrArgs);
	
	//팝업에서 입력받은 값 리턴
	if ( gfn_isNull(sRtnVal) || sRtnVal == "cancel" ) {
		//취소시 값 제거
		divLevel02.edt_msgVal.value = "";
	} else {	//Object이용시
	    if(sParam02 == '10') {
	        divLevel02.edt_msgVal.value  = sRtnVal["cardNo"];
	    }		
	    if(sParam02 == '20') {
	        divLevel02.edt_msgVal.value  = sRtnVal["hpNo"];
	    }
	    if(sParam02 == '30') {
	        divLevel02.edt_msgVal.value  = sRtnVal["onlnId"];
	    }	    
		divLevel02.edt_mbrNo.value = sRtnVal["mbrNo"];	//회원번호 넘겨줌
		divLevel02.edt_cardNo.value = sRtnVal["cardNo"];	//카드번번호 넘겨줌
		//btn_search_onclick();
		//ds_MbrInfoAll.clearData();
	    //page = 1;
		//fn_searchMain();  //검색후 자동조회
	}
}

/*----------------------------------------------------------------------------------------------
 * 설명   : 사용자 검색 팝업 (조회)
-----------------------------------------------------------------------------------------------*/
function div_Search_user_onkeydown(obj:Edit, e:KeyEventInfo)
{
	if (e.keycode == KEYCODE_ENTER) {
		btn_User_onclick();
	}
}

function btn_User_onclick(obj:Button,  e:ClickEventInfo)
{
	var sParam01 = divLevel02.edt_userNo.value;
	var sParam02 = divLevel02.edt_userNm.value;
	var sParam03 = "";
	if ( e == null ) {
		sParam03 = "key";
	} else {
		sParam03 = "button";
	}
	var arrArgs = {argAutoSelect:true, argCallProgram:"UserRolMgmtM", argParam01:sParam01, argParam02:sParam02, argParam03:sParam03};
	var sRtnVal = gfn_dialog("FRM0011P", arrArgs);

	if ( gfn_isNull(sRtnVal) || sRtnVal == "cancel" ) {
		//취소시 값 제거
		divLevel02.edt_userNo.value = "";
		divLevel02.edt_userNm.value = "";
		
	} else {	//Object이용시
		
		divLevel02.edt_userNo.value = sRtnVal["value1"];
		divLevel02.edt_userNm.value = sRtnVal["value2"];
	}
	
	
}

/*----------------------------------------------------------------------------------------------
 * 설명   : 화면 검색 팝업 (조회)
-----------------------------------------------------------------------------------------------*/
function div_search_edt_frmId_onkeydown(obj:Edit, e:KeyEventInfo)
{
	if (e.keycode == KEYCODE_ENTER) {
		div_search_btn_frmSearch_onclick();
	}
}

function div_search_btn_frmSearch_onclick(obj:Button,  e:ClickEventInfo)
{
	var sParam01 = divLevel02.edt_frmId.value;
	var sParam02 = divLevel02.edt_frmNm.value;
	var sParam03 = "";
	if ( e == null ) {
		sParam03 = "key";
	} else {
		sParam03 = "button";
	}
	var arrArgs = {argAutoSelect:true, argCallProgram:"FRM0019M", argParam01:sParam01, argParam02:sParam02, argParam03:sParam03};
	var sRtnVal = gfn_dialog("FRM0016P", arrArgs);

	//팝업에서 입력받은 값 리턴
	if ( gfn_isNull(sRtnVal) || sRtnVal == "cancel" ) {
		//취소시 값 제거
		divLevel02.edt_frmId.value = "";
		divLevel02.edt_frmNm.value = "";
	} else {	//Object이용시
		divLevel02.edt_frmId.value 	= sRtnVal["frmId"];
		divLevel02.edt_frmNm.value  = sRtnVal["frmNm"];
	}
}
/*----------------------------------------------------------------------------------------------
 * 설명   : 권한검색팝업
-----------------------------------------------------------------------------------------------*/
function div_Search_authrol_onkeydown(obj:Edit, e:KeyEventInfo)
{
	if (e.keycode == KEYCODE_ENTER) {
		fn_Authrol_Popup_search();
	}
}

function fn_Authrol_Popup_search(obj:Button,  e:ClickEventInfo)
{
	var sParam01 = divLevel02.edt_rollId.value;
	var sParam02 = divLevel02.edt_rollNm.value;
	var sParam03 = "";
	if ( e == null ) {
		sParam03 = "key";
	} else {
		sParam03 = "button";
	}
	var arrArgs = {argAutoSelect:true, argCallProgram:"FrmAutrRolMgmtM", argParam01:sParam01, argParam02:sParam02, argParam03:sParam03};
	var sRtnVal = gfn_dialog("FRM0021P", arrArgs);

	if ( gfn_isNull(sRtnVal) || sRtnVal == "cancel" ) {
		//취소시 값 제거
		divLevel02.edt_rollId.value = "";
		divLevel02.edt_rollNm.value = "";
	} else {	//Object이용시
		divLevel02.edt_rollId.value  = sRtnVal["rolid"];
		divLevel02.edt_rollNm.value  = sRtnVal["rolnm"];
	}
}
/************************************************************************************************
 * 설명   : 공통코드 검색팝업
 ************************************************************************************************/
 function div_search_edt_supCmGrpCd_onkeydown(obj:Edit, e:KeyEventInfo)
{
	if (e.keycode == KEYCODE_ENTER) {
		div_search_btn_cmCdSearch_onclick();
	}
}

function div_search_btn_cmCdSearch_onclick(obj:Button,  e:ClickEventInfo)
{
	var sParam01 = divLevel02.edt_supCmGrpCd.value;
	var sParam02 = divLevel02.edt_supCmCd.value;
	var sParam03 = "";
	if ( e == null ) {
		sParam03 = "key";
	} else {
		sParam03 = "button";
	}
	
	var arrArgs = {argAutoSelect:true, argCallProgram:"FRM0003P", argParam01:sParam01, argParam02:sParam02, argParam03:sParam03};
	var sRtnVal = gfn_dialog("FRM0004P", arrArgs);

	//팝업에서 입력받은 값 리턴
	if ( gfn_isNull(sRtnVal) || sRtnVal == "cancel" ) {
		//취소시 값 제거
		divLevel02.edt_supCmGrpCd.value = "";
		divLevel02.edt_supCmCd.value = "";
	} else {	//Object이용시
		divLevel02.edt_supCmGrpCd.value = sRtnVal["supGrpCd"];
		divLevel02.edt_supCmCd.value  = sRtnVal["supCmCd"];
	}
}	

/*----------------------------------------------------------------------------------------------
 * 설명   : 조회조건 리셋
-----------------------------------------------------------------------------------------------*/
function div_search_btn_reset_onclick(obj:Button,  e:ClickEventInfo)
{
	divLevel02.edt_brnCd.value = "";
	divLevel02.edt_brnNm.value = "";
}

function divLevel02_btn_reset00_onclick(obj:Button,  e:ClickEventInfo)
{
	divLevel02.edt_mchtNo.value = "";
	divLevel02.edt_mchtNm.value = "";
	divLevel02.edt_sapCd.value = "";
}

function divLevel02_btn_reset01_onclick(obj:Button,  e:ClickEventInfo)
{
	divLevel02.cbo_msgType.index = 0;
	divLevel02.edt_msgVal.value = "";
	divLevel02.edt_mbrNo.value = "";
	divLevel02.edt_cardNo.value = "";
}
function divLevel02_btn_reset02_onclick(obj:Button,  e:ClickEventInfo)
{
	divLevel02.edt_userNo.value = "";
	divLevel02.edt_usernm.value = "";
}
function divLevel02_btn_reset03_onclick(obj:Button,  e:ClickEventInfo)
{
	divLevel02.edt_frmId.value = "";
	divLevel02.edt_frmNm.value = "";
}

function divLevel02_btn_reset04_onclick(obj:Button,  e:ClickEventInfo)
{
	divLevel02.edt_rollId.value = "";
	divLevel02.edt_rollNm.value = "";
}

function divLevel02_btn_reset05_onclick(obj:Button,  e:ClickEventInfo)
{
	divLevel02.edt_supCmGrpCd.value = "";
	divLevel02.edt_supCmCd.value = "";
}



function divLevel02_edt_frmNm_ontextchange(obj:Edit,  e:TextChangeEventInfo)
{
	if(e.pretext != e.posttext){
		divLevel02.edt_frmId.value = "";
	}
}

function divLevel02_edt_rollNm_ontextchange(obj:Edit,  e:TextChangeEventInfo)
{
	if(e.pretext != e.posttext){
		divLevel02.edt_rollId.value = "";
	}
}

function divLevel02_edt_supCmCd_ontextchange(obj:Edit,  e:TextChangeEventInfo)
{
	if(e.pretext != e.posttext){
		divLevel02.edt_supCmGrpCd.value = "";
	}
}

function divLevel02_edt_usernm_ontextchange(obj:Edit,  e:TextChangeEventInfo)
{
	if(e.pretext != e.posttext){
		divLevel02.edt_userNo.value = "";
	}
}

/*------------------------------------------------------------------------------
2015.02.27 가맹점검색 sap코드 에디트에서 
 엔터키 입력 혹은 다른 값 입력시 이벤트
--------------------------------------------------------------------------------*/
function div_search_edt_sap_onkeydown(obj:Edit, e:KeyEventInfo)
{
	if (e.keycode == KEYCODE_ENTER) {
		divLevel02_btn_01_onclick();
	} 
}]]></Script>
  </Form>
</FDL>
